// ==UserScript==
// @name       infcraftps
// @namespace  <@1225068050923917404>
// @version    2.0.0
// @author     @errorplex on Discord
// @match      https://neal.fun/infinite-craft/*
// @grant      GM.getValue
// @grant      GM.setValue
// @grant      GM_addStyle
// @grant      unsafeWindow
// ==/UserScript==

(e=>{if(typeof GM_addStyle=="function"){GM_addStyle(e);return}const t=document.createElement("style");t.textContent=e,document.head.append(t)})(" #private-server-modal[open]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px}.modal-header{display:flex;justify-content:space-evenly;align-items:center;width:100%}.close-button-container{display:flex;justify-content:center;align-items:center}.close-button{width:24px;height:24px;cursor:pointer;padding:4px;background-color:#fff;border-radius:5px;object-fit:contain}.modal-input{padding:8px} ");

(function () {
	'use strict';

	const W=(t,e)=>t===e,Y={equals:W};let $=R;const y=1,x=2,Z={owned:null,cleanups:null,context:null,owner:null};var L=null;let Q=null,c=null,N=null,T=null,I=0;function H(t,e){const s=c,n=L,o=t.length===0,i=e===void 0?n:e,u=o?Z:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=o?t:()=>t(()=>D(()=>d(u)));L=u,c=null;try{return w(l,!0)}finally{c=s,L=n;}}function J(t,e){e=e?Object.assign({},Y,e):Y;const s={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},n=o=>(typeof o=="function"&&(o=o(s.value)),_(s,o));return [q.bind(s),n]}function z(t,e,s){const n=P(t,e,false,y);C(n);}function X(t,e,s){$=et;const n=P(t,e,false,y);n.user=true,T?T.push(n):C(n);}function D(t){if(c===null)return t();const e=c;c=null;try{return t()}finally{c=e;}}function F(t){X(()=>D(t));}function q(){if(this.sources&&this.state)if(this.state===y)C(this);else {const t=N;N=null,w(()=>S(this),false),N=t;}if(c){const t=this.observers?this.observers.length:0;c.sources?(c.sources.push(this),c.sourceSlots.push(t)):(c.sources=[this],c.sourceSlots=[t]),this.observers?(this.observers.push(c),this.observerSlots.push(c.sources.length-1)):(this.observers=[c],this.observerSlots=[c.sources.length-1]);}return this.value}function _(t,e,s){let n=t.value;return (!t.comparator||!t.comparator(n,e))&&(t.value=e,t.observers&&t.observers.length&&w(()=>{for(let o=0;o<t.observers.length;o+=1){const i=t.observers[o],u=Q&&Q.running;u&&Q.disposed.has(i),(u?!i.tState:!i.state)&&(i.pure?N.push(i):T.push(i),i.observers&&B(i)),u||(i.state=y);}if(N.length>1e6)throw N=[],new Error},false)),e}function C(t){if(!t.fn)return;d(t);const e=I;K(t,t.value,e);}function K(t,e,s){let n;const o=L,i=c;c=L=t;try{n=t.fn(e);}catch(u){return t.pure&&(t.state=y,t.owned&&t.owned.forEach(d),t.owned=null),t.updatedAt=s+1,V(u)}finally{c=i,L=o;}(!t.updatedAt||t.updatedAt<=s)&&(t.updatedAt!=null&&"observers"in t?_(t,n):t.value=n,t.updatedAt=s);}function P(t,e,s,n=y,o){const i={fn:t,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:L,context:L?L.context:null,pure:s};return L===null||L!==Z&&(L.owned?L.owned.push(i):L.owned=[i]),i}function h(t){if(t.state===0)return;if(t.state===x)return S(t);if(t.suspense&&D(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<I);)t.state&&e.push(t);for(let s=e.length-1;s>=0;s--)if(t=e[s],t.state===y)C(t);else if(t.state===x){const n=N;N=null,w(()=>S(t,e[0]),false),N=n;}}function w(t,e){if(N)return t();let s=false;e||(N=[]),T?s=true:T=[],I++;try{const n=t();return tt(s),n}catch(n){s||(T=null),N=null,V(n);}}function tt(t){if(N&&(R(N),N=null),t)return;const e=T;T=null,e.length&&w(()=>$(e),false);}function R(t){for(let e=0;e<t.length;e++)h(t[e]);}function et(t){let e,s=0;for(e=0;e<t.length;e++){const n=t[e];n.user?t[s++]=n:h(n);}for(e=0;e<s;e++)h(t[e]);}function S(t,e){t.state=0;for(let s=0;s<t.sources.length;s+=1){const n=t.sources[s];if(n.sources){const o=n.state;o===y?n!==e&&(!n.updatedAt||n.updatedAt<I)&&h(n):o===x&&S(n,e);}}}function B(t){for(let e=0;e<t.observers.length;e+=1){const s=t.observers[e];s.state||(s.state=x,s.pure?N.push(s):T.push(s),s.observers&&B(s));}}function d(t){let e;if(t.sources)for(;t.sources.length;){const s=t.sources.pop(),n=t.sourceSlots.pop(),o=s.observers;if(o&&o.length){const i=o.pop(),u=s.observerSlots.pop();n<o.length&&(i.sourceSlots[u]=n,o[n]=i,s.observerSlots[n]=u);}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)d(t.tOwned[e]);delete t.tOwned;}if(t.owned){for(e=t.owned.length-1;e>=0;e--)d(t.owned[e]);t.owned=null;}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null;}t.state=0;}function st(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function V(t,e=L){throw st(t)}function nt(t,e){return D(()=>t(e||{}))}function it(t,e,s){let n=s.length,o=e.length,i=n,u=0,l=0,r=e[o-1].nextSibling,M=null;for(;u<o||l<i;){if(e[u]===s[l]){u++,l++;continue}for(;e[o-1]===s[i-1];)o--,i--;if(o===u){const f=i<n?l?s[l-1].nextSibling:s[i-l]:r;for(;l<i;)t.insertBefore(s[l++],f);}else if(i===l)for(;u<o;)(!M||!M.has(e[u]))&&e[u].remove(),u++;else if(e[u]===s[i-1]&&s[l]===e[o-1]){const f=e[--o].nextSibling;t.insertBefore(s[l++],e[u++].nextSibling),t.insertBefore(s[--i],f),e[o]=s[i];}else {if(!M){M=new Map;let a=l;for(;a<i;)M.set(s[a],a++);}const f=M.get(e[u]);if(f!=null)if(l<f&&f<i){let a=u,j=1,g;for(;++a<o&&a<i&&!((g=M.get(e[a]))==null||g!==f+j);)j++;if(j>f-l){const A=e[u];for(;l<f;)t.insertBefore(s[l++],A);}else t.replaceChild(s[l++],e[u++]);}else u++;else e[u++].remove();}}}const b="_$DX_DELEGATE";function lt(t,e,s,n={}){let o;return H(i=>{o=i,e===document?t():rt(e,t(),e.firstChild?null:void 0,s);},n.owner),()=>{o(),e.textContent="";}}function ot(t,e,s,n){let o;const i=()=>{const l=document.createElement("template");return l.innerHTML=t,l.content.firstChild},u=()=>(o||(o=i())).cloneNode(true);return u.cloneNode=u,u}function ut(t,e=window.document){const s=e[b]||(e[b]=new Set);for(let n=0,o=t.length;n<o;n++){const i=t[n];s.has(i)||(s.add(i),e.addEventListener(i,Mt));}}function m(t,e,s){return D(()=>t(e,s))}function rt(t,e,s,n){if(s!==void 0&&!n&&(n=[]),typeof e!="function")return p(t,e,n,s);z(o=>p(t,e(),o,s),n);}function Mt(t){let e=t.target;const s=`$$${t.type}`,n=t.target,o=t.currentTarget,i=r=>Object.defineProperty(t,"target",{configurable:true,value:r}),u=()=>{const r=e[s];if(r&&!e.disabled){const M=e[`${s}Data`];if(M!==void 0?r.call(e,M,t):r.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&i(e.host),true},l=()=>{for(;u()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:true,get(){return e||document}}),t.composedPath){const r=t.composedPath();i(r[0]);for(let M=0;M<r.length-2&&(e=r[M],!!u());M++){if(e._$host){e=e._$host,l();break}if(e.parentNode===o)break}}else l();i(n);}function p(t,e,s,n,o){for(;typeof s=="function";)s=s();if(e===s)return s;const i=typeof e,u=n!==void 0;if(t=u&&s[0]&&s[0].parentNode||t,i==="string"||i==="number"){if(i==="number"&&(e=e.toString(),e===s))return s;if(u){let l=s[0];l&&l.nodeType===3?l.data!==e&&(l.data=e):l=document.createTextNode(e),s=E(t,s,n,l);}else s!==""&&typeof s=="string"?s=t.firstChild.data=e:s=t.textContent=e;}else if(e==null||i==="boolean")s=E(t,s,n);else {if(i==="function")return z(()=>{let l=e();for(;typeof l=="function";)l=l();s=p(t,l,s,n);}),()=>s;if(Array.isArray(e)){const l=[],r=s&&Array.isArray(s);if(O(l,e,s,o))return z(()=>s=p(t,l,s,n,true)),()=>s;if(l.length===0){if(s=E(t,s,n),u)return s}else r?s.length===0?k(t,l,n):it(t,s,l):(s&&E(t),k(t,l));s=l;}else if(e.nodeType){if(Array.isArray(s)){if(u)return s=E(t,s,n,e);E(t,s,null,e);}else s==null||s===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);s=e;}}return s}function O(t,e,s,n){let o=false;for(let i=0,u=e.length;i<u;i++){let l=e[i],r=s&&s[t.length],M;if(!(l==null||l===true||l===false))if((M=typeof l)=="object"&&l.nodeType)t.push(l);else if(Array.isArray(l))o=O(t,l,r)||o;else if(M==="function")if(n){for(;typeof l=="function";)l=l();o=O(t,Array.isArray(l)?l:[l],Array.isArray(r)?r:[r])||o;}else t.push(l),o=true;else {const f=String(l);r&&r.nodeType===3&&r.data===f?t.push(r):t.push(document.createTextNode(f));}}return o}function k(t,e,s=null){for(let n=0,o=e.length;n<o;n++)t.insertBefore(e[n],s);}function E(t,e,s,n){if(s===void 0)return t.textContent="";const o=n||document.createTextNode("");if(e.length){let i=false;for(let u=e.length-1;u>=0;u--){const l=e[u];if(o!==l){const r=l.parentNode===t;!i&&!u?r?t.replaceChild(o,l):t.insertBefore(o,s):r&&l.remove();}else i=true;}}else t.insertBefore(o,s);return [o]}var U=typeof GM<"u"?GM:void 0,ct=ot('<dialog id=private-server-modal data-v-1748f434><div class=modal-header><h1 class=modal-title>Private Server</h1><div class=close-button-container><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJhIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2MDAgNjAwIj48cGF0aCBkPSJNMzAwLjAwMDAyLDM0OS44MzIzM0w2MC4xMDc4Miw1ODkuNzIzMzJjLTYuNTQ2ODksNi41NDc2OS0xNC43NzY0Myw5Ljg5NzE4LTI0LjY4ODYsMTAuMDQ4NTEtOS45MTEzOCwuMTUyMS0xOC4yOTIyNC0zLjE5NzQtMjUuMTQyNTYtMTAuMDQ4NTFDMy40MjU1Nyw1ODIuODcyOTgsLjAwMDAyLDU3NC41Njc4LDAsNTY0LjgwNzc0Yy4wMDAwMi05Ljc2MDA3LDMuNDI1NTctMTguMDY1MjYsMTAuMjc2NjYtMjQuOTE1NTZsMjM5Ljg5MTAxLTIzOS44OTIyTDEwLjI3NjY4LDYwLjEwNzc4QzMuNzI4OTksNTMuNTYwOTIsLjM3OTUsNDUuMzMxMzYsLjIyODE3LDM1LjQxOTIyLC4wNzYwNywyNS41MDc4OCwzLjQyNTU3LDE3LjEyNywxMC4yNzY2OCwxMC4yNzY2NiwxNy4xMjcwMiwzLjQyNTUzLDI1LjQzMjIsMCwzNS4xOTIyNiwwczE4LjA2NTI2LDMuNDI1NTMsMjQuOTE1NTYsMTAuMjc2NjZsMjM5Ljg5MjIsMjM5Ljg5MDk3TDUzOS44OTIyMiwxMC4yNzY1OWM2LjU0Njg2LTYuNTQ3NzIsMTQuNzc2NDMtOS44OTcyLDI0LjY4ODU2LTEwLjA0ODUxLDkuOTExMzQtLjE1MjE3LDE4LjI5MjIyLDMuMTk3MzgsMjUuMTQyNTYsMTAuMDQ4NTEsNi44NTExMyw2Ljg1MDI3LDEwLjI3NjY2LDE1LjE1NTUyLDEwLjI3NjY2LDI0LjkxNTU2cy0zLjQyNTUzLDE4LjA2NTIyLTEwLjI3NjY2LDI0LjkxNTU2bC0yMzkuODkwOTcsMjM5Ljg5MjI3LDIzOS44OTEwNSwyMzkuODkyMmM2LjU0NzcyLDYuNTQ2ODksOS44OTcyLDE0Ljc3NjQzLDEwLjA0ODUxLDI0LjY4ODYsLjE1MjE3LDkuOTExMzgtMy4xOTczOCwxOC4yOTIyNC0xMC4wNDg1MSwyNS4xNDI1Ni02Ljg1MDI3LDYuODUxMS0xNS4xNTU1MiwxMC4yNzY2NC0yNC45MTU1NiwxMC4yNzY2Ni05Ljc2MDA0LS4wMDAwMi0xOC4wNjUyMi0zLjQyNTU3LTI0LjkxNTU2LTEwLjI3NjY2bC0yMzkuODkyMjctMjM5Ljg5MTAxWiIvPjwvc3ZnPg=="class=close-button></div></div><input type=text class=modal-input placeholder="https://neal.fun/api/infinite-craft/pair?first={first}&amp;second={second}">');function ft(){let t,e;const[s,n]=J("");F(async()=>{n(await U.getValue("private-server-url")||"");});async function o(){await U.setValue("private-server-url",(e==null?void 0:e.value)||"");}return (()=>{var i=ct(),u=i.firstChild,l=u.firstChild,r=l.nextSibling,M=u.nextSibling,f=t;typeof f=="function"?m(f,i):t=i,r.$$click=()=>t==null?void 0:t.close();var a=e;return typeof a=="function"?m(a,M):e=M,M.addEventListener("change",o),z(()=>M.value=s()),i})()}ut(["click"]);window.addEventListener("load",()=>{var n,o;const e=document.querySelector(".container").__vue__;e.craftApi=async(...i)=>{const u=[i[0],i[1]].sort((f,a)=>f.localeCompare(a)),l=await U.getValue("private-server-url")||"https://neal.fun/api/infinite-craft/pair?first={first}&second={second}",r=new AbortController,M=l.replace("{first}",encodeURIComponent(u[0])).replace("{second}",encodeURIComponent(u[1]));e.$setTimeout(()=>r.abort(),12e3);try{const a=await(await fetch(M,{signal:r.signal})).json();let{result:j,emoji:g,isNew:A}=a;if(j=j.trim(),j!=="Nothing"&&j!==""){const v={text:j,emoji:g};return A&&(v.discovery=!0),v}}catch{}return null},lt(()=>nt(ft,{}),document.querySelector(".side-controls").parentNode);const s=(n=document.querySelector(".tool-icon"))==null?void 0:n.cloneNode();s&&(s.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyZW0iIGhlaWdodD0iMmVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjwhLS0gSWNvbiBmcm9tIE1hdGVyaWFsIFN5bWJvbHMgTGlnaHQgYnkgR29vZ2xlIC0gaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9tYXRlcmlhbC1kZXNpZ24taWNvbnMvYmxvYi9tYXN0ZXIvTElDRU5TRSAtLT48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik00LjYxNiAyMHEtLjY5MSAwLTEuMTUzLS40NjJUMyAxOC4zODRWNS42MTZxMC0uNjkxLjQ2My0xLjE1M1Q0LjYxNSA0aDQuNTc3cS42OSAwIDEuMTUzLjQ2M3QuNDYzIDEuMTUzdjEyLjc2OXEwIC42OS0uNDYzIDEuMTUzVDkuMTkyIDIwem0xMC4xOTIgMHEtLjY5IDAtMS4xNTMtLjQ2MnQtLjQ2My0xLjE1M1Y1LjYxNXEwLS42OS40NjMtMS4xNTJUMTQuODA4IDRoNC41NzdxLjY5IDAgMS4xNTIuNDYzVDIxIDUuNjE2djEyLjc2OXEwIC42OS0uNDYzIDEuMTUzVDE5LjM4NSAyMHpNNC42MTYgMTloNC41NzZxLjI3IDAgLjQ0My0uMTczdC4xNzMtLjQ0MlY1LjYxNXEwLS4yNjktLjE3NC0uNDQyUTkuNDYyIDUgOS4xOTIgNUg0LjYxNnEtLjI3IDAtLjQ0My4xNzNUNCA1LjYxNnYxMi43NjlxMCAuMjY5LjE3My40NDJ0LjQ0My4xNzNtMTAuMTkyIDBoNC41NzdxLjI2OSAwIC40NDItLjE3M3QuMTczLS40NDJWNS42MTVxMC0uMjY5LS4xNzMtLjQ0MlQxOS4zODUgNWgtNC41NzdxLS4yNyAwLS40NDMuMTczdC0uMTczLjQ0M3YxMi43NjlxMCAuMjY5LjE3My40NDJ0LjQ0My4xNzNtLTYuNDIzLTUuMTE1cTAtLjIxNC0uMTQ0LS4zNTdxLS4xNDMtLjE0NC0uMzU2LS4xNDRoLTJxLS4yMTQgMC0uMzU3LjE0NHEtLjE0My4xNDMtLjE0My4zNTdxMCAuMjEzLjE0My4zNTZxLjE0My4xNDQuMzU3LjE0NGgycS4yMTMgMCAuMzU2LS4xNDR0LjE0NC0uMzU2bTEwLjIzIDBxMC0uMjE0LS4xNDMtLjM1N3EtLjE0My0uMTQ0LS4zNTYtLjE0NGgtMi4wMnEtLjIxMyAwLS4zNDcuMTQ0cS0uMTMzLjE0My0uMTMzLjM1N3EwIC4yMTMuMTQzLjM1NnQuMzU3LjE0NGgycS4yMTMgMCAuMzU2LS4xNDRxLjE0NC0uMTQzLjE0NC0uMzU2TTguMzg1IDExLjA3N3EwLS4yMTMtLjE0NC0uMzU3dC0uMzU2LS4xNDNoLTJxLS4yMTQgMC0uMzU3LjE0M3EtLjE0My4xNDQtLjE0My4zNTd0LjE0My4zNTd0LjM1Ny4xNDNoMnEuMjEzIDAgLjM1Ni0uMTQzdC4xNDQtLjM1N20xMC4yMyAwcTAtLjIxMy0uMTQzLS4zNTdxLS4xNDMtLjE0My0uMzU2LS4xNDNoLTIuMDJxLS4yMTMgMC0uMzQ3LjE0M3EtLjEzMy4xNDQtLjEzMy4zNTd0LjE0My4zNTd0LjM1Ny4xNDNoMnEuMjEzIDAgLjM1Ni0uMTQzcS4xNDQtLjE0My4xNDQtLjM1N004LjM4NSA4LjI1cTAtLjIxMy0uMTQ0LS4zNTd0LS4zNTYtLjE0M2gtMnEtLjIxNCAwLS4zNTcuMTQzcS0uMTQzLjE0NC0uMTQzLjM1N3QuMTQzLjM1N3QuMzU3LjE0M2gycS4yMTMgMCAuMzU2LS4xNDN0LjE0NC0uMzU3bTEwLjIzIDBxMC0uMjEzLS4xNDMtLjM1N3EtLjE0My0uMTQzLS4zNTYtLjE0M2gtMi4wMnEtLjIxMyAwLS4zNDcuMTQzcS0uMTMzLjE0NC0uMTMzLjM1N3QuMTQzLjM1N3QuMzU3LjE0M2gycS4yMTMgMCAuMzU2LS4xNDNxLjE0NC0uMTQzLjE0NC0uMzU3TTQuNjE2IDE5SDRoNS44MDh6bTEwLjE5MiAwaC0uNjE2SDIweiIvPjwvc3ZnPg==",s.setAttribute("class","tool-icon"),s.addEventListener("click",()=>{const i=document.getElementById("private-server-modal");i&&i.showModal();}),(o=document.querySelector(".side-controls"))==null||o.prepend(s));});

})();